<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <title>imgResize.js</title>
  <script type="text/javascript" async="" src="imgresize.js"></script>
  <style>
    body {
      font-family: "Helvetica Neue", Arial, Helvetica, sans-serif;
      background-image: url('img/grey_wash_wall.png'); /* Subtle Patterns by Subtle Patterns (http://subtlepatterns.com/) are licensed under a Creative Commons Attribution-ShareAlike 3.0 Unported License (http://creativecommons.org/licenses/by-sa/3.0/deed.en_US). */
    }
    ul {
      list-style: none;
    }
    #imglist b {
      cursor: pointer;
    }
    #imglist i {
      font-size: 11px;
    }
    .box {
      position: relative;
      width: 720px;
      margin: auto;
      margin-top: 20px;
      margin-bottom: 20px;
      padding: 10px 5px 10px 5px;
      background-color: #FFF;
      border-radius: 4px;
      box-shadow: 0 0 10px 0px #000;
      text-align: center;
      font-family: "Hoefler Text", Constantia, Palatino, Georgia, serif;
    }
  </style>
</head>
<body>
  <div class="box">
    <h1>imgResize.js</h1>
    <ul>
      <li><b>Version:</b> 0.0.2</li>
      <li><b>License:</b> <a href="http://simon.waldherr.eu/license/mit/">MIT</a></li>
      <li><b>Demo:</b> <a href="http://simonwaldherr.github.io/imgResize.js/">simonwaldherr.github.io/imgResize.js/</a></li>
      <li><b>Repo:</b> <a href="https://github.com/SimonWaldherr/imgResize.js">github.com/SimonWaldherr/imgResize.js</a></li>
    </ul>
  </div>
  <div class="box">
    <h2>Images List</h2>
    <ul id="imglist"></ul>
    <h2>Normal Resize</h2>
    <label for="width">WIDTH: </label>
    <input name="width" id="width" type="range" max="640" min="0" value="640" onchange="imgResize({'width' : this.value, 'canvas' : 'Canvas'})">
    <label for="height">HEIGHT: </label>
    <input name="height" id="height" type="range" max="480" min="0" value="480" onchange="imgResize({'height' : this.value, 'canvas' : 'Canvas'})">
    <br/>
    <h2>Smart Resize</h2>
    <label for="width">WIDTH: </label>
    <input name="width" id="widths" type="range" max="640" min="0" value="640" onchange="imgSmartResize({'width' : this.value, 'canvas' : 'Canvas'})">
    <label for="height">HEIGHT: </label>
    <input name="height" id="heights" type="range" max="480" min="0" value="480" onchange="imgSmartResize({'height' : this.value, 'canvas' : 'Canvas'})">
    <br/><br/>
    <canvas id="originalCanvas" data-src="4032618153_e0c19e93a0_z.jpg" width="640" height="480" style="border:1px solid #c3c3c3; display:none;">
    Your browser does not support the canvas element.
    </canvas>
    <canvas id="Canvas" data-src="4032618153_e0c19e93a0_z.jpg" width="640" height="480" style="border:1px solid #c3c3c3;">
    Your browser does not support the canvas element.
    </canvas>
    <br/><br/>
    <div id="json" style="display:none">imgSmartResize</div>
  </div>
  <script type="text/javascript">
    var demoimages = [{'name':'Air Force One','license':'Arbeit der US-Regierung','filename':'4032618153_e0c19e93a0_z.jpg','source':'http://www.flickr.com/photos/whitehouse/4032618153/','height':427},
                      {'name':'On the Moon','license':'Keine Urheberrechtsbeschr√§nkungen','filename':'5136519916_e5beec314f_z.jpg','source':'http://www.flickr.com/photos/nasacommons/5136519916/','height':640},
                      {'name':'Tree Silhouette','license':'CC BY-SA 2.0','filename':'525294006_2f0ffd631f_z.jpg','source':'http://www.flickr.com/photos/peterpearson/525294006/','height':426},
                      {'name':'Tree and Sky','license':'CC BY-NC 2.0','filename':'2515331481_4997cae738_z.jpg','source':'http://www.flickr.com/photos/freefoto/2515331481/','height':480},
                      {'name':'Two Trees','license':'CC BY-SA 2.0','filename':'2280692112_96b565920b_z.jpg','source':'http://www.flickr.com/photos/salford_ian/2280692112/','height':480}];
    function loadImageToCanvas(json, id) {
      loadImage({'canvas' : document.getElementById('originalCanvas'), 'img' : 'img/'+json[id].filename});
      loadImage({'canvas' : document.getElementById('Canvas'), 'img' : 'img/'+json[id].filename});
      document.getElementById('height').setAttribute('max',json[id].height);
      document.getElementById('height').setAttribute('value',json[id].height);
      document.getElementById('width').setAttribute('value',640);
      document.getElementById('heights').setAttribute('max',json[id].height);
      document.getElementById('heights').setAttribute('value',json[id].height);
      document.getElementById('widths').setAttribute('value',640);
      
      document.getElementById('originalCanvas').setAttribute('height',json[id].height);
      document.getElementById('Canvas').setAttribute('height',json[id].height);
    }
    function printImgList(json, id) {
      var i, output = '', regex = /(http:\/\/www\.([a-zA-Z.\/_]+))/i, linktext;
      for(i=0;i<json.length;i+=1) {
        linktext = regex.exec(json[i].source);
        output += '<li><b onclick="loadImageToCanvas(demoimages,'+i+')">'+json[i].name+'</b> <i>(license: '+json[i].license+', from: <a href="'+json[i].source+'">'+linktext[2]+'</a>)</i></li>';
      }
      document.getElementById(id).innerHTML = output;
    }
    window.onload = function() {
      printImgList(demoimages,'imglist');
      loadImageToCanvas(demoimages, 0);
    };
  </script>
</body>
</html>
