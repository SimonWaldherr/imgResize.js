/*
 * tinyOSF.js
 *
 * Copyright 2013, Simon Waldherr - http://simon.waldherr.eu/
 * Released under the MIT Licence
 * http://opensource.org/licenses/MIT
 *
 * Github:  https://github.com/SimonWaldherr/imgResize.js
 * Version: 0.0.2
 */

eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('C 1T(6){"N M";B 5=(L 6.5!==\'K\')?6.5:H.G(6.5),I=(6.d!==p)?(L 6.d!==\'K\')?6.d.v:6.d:5.o(\'l-v\'),j,d;5.1q(\'l-v\',I);j=5.19("18");d=1k 1j();d.1S=C(){j.1w(d,0,0)};d.v=I}C 1r(m,1i,1B,1E,5){"N M";B O=1E.1t(5.c,5.a),w=m.c,h=m.a,9=m.l,f=O.l,15=w*4,e=15+4,1D=h-1,1C=w-1,k,t,s,1a,1h,1g,1f,14,13,12,T,Z,Y,X,S,W,V,U,R,r,g,b,x,y;u(y=1;y<1D;y+=1){k=e-4;t=k-15;s=k+15;1h=-9[t]-9[k]-9[s];1g=-9[t+=1]-9[k+=1]-9[s+=1];1f=-9[t+=1]-9[k+=1]-9[s+=1];14=9[t+=2];13=9[k+=2];12=9[s+=2];T=-14-13-12;Z=9[t+=1];Y=9[k+=1];X=9[s+=1];S=-Z-Y-X;W=9[t+=1];V=9[k+=1];U=9[s+=1];R=-W-V-U;u(x=1;x<1C;x+=1){k=e+4;t=k-15;s=k+15;r=1i+1h-14-(13*-8)-12;g=1i+1g-Z-(Y*-8)-X;b=1i+1f-W-(V*-8)-U;1h=T;1g=S;1f=R;14=9[t];13=9[k];12=9[s];T=-14-13-12;Z=9[t+=1];Y=9[k+=1];X=9[s+=1];S=-Z-Y-X;W=9[t+=1];V=9[k+=1];U=9[s+=1];R=-W-V-U;n(!1B){f[e]=r+T;f[e+=1]=g+S;f[e+=1]=b+R}1b{1a=0.3*(r+T)+0.1R*(g+S)+0.11*(b+R);f[e]=1a;f[e+=1]=1a;f[e+=1]=1a}f[e+=1]=D;e+=1}e+=8}16 O}C 1x(m,j,5){"N M";B w=m.c,h=m.a,O=1r(m,D,1,j,5),f=O.l,7=[],A=1e,q=1e,e=0,y,x,i;u(y=0;y<h;y+=1){u(x=0;x<w;x+=1){n(f[e]<1A){n(7[y]===p){7[y]=0}7[y]+=1}1b{n(7[y]===p){7[y]=0}}n((7[y]<q)||(!q)){q=7[y]}n((7[y]>A)||(!A)){A=7[y]}e+=4}}u(i=0;i<7.P;i+=1){7[i]=1z((7[i]-q)/(A-q)*D,10)}16 7}C 1y(m,j,5){"N M";B w=m.c,h=m.a,O=1r(m,D,1,j,5),f=O.l,7=[],A=1e,q=1e,e=0,y,x,i;u(y=0;y<h;y+=1){u(x=0;x<w;x+=1){n(f[e]<1A){n(7[x]===p){7[x]=0}7[x]+=1}1b{n(7[x]===p){7[x]=0}}n((7[x]<q)||(!q)){q=7[x]}n((7[x]>A)||(!A)){A=7[x]}e+=4}}u(i=0;i<7.P;i+=1){7[i]=1z((7[i]-q)/(A-q)*D,10)}16 7}B J=[];C 1s(6){"N M";B 5=(L 6.5!==\'K\')?6.5:H.G(6.5),j=5.19("18"),m=j.1u(0,0,5.c,5.a);J[0]=1y(m,j,H.G(\'1p\'));J[1]=1x(m,j,H.G(\'1p\'));H.G(\'1Q\').1P=1O.1N(J);16 J}C 1M(6){"N M";B 5=(L 6.5!==\'K\')?6.5:H.G(6.5),I=(6.d!==p)?(L 6.d!==\'K\')?6.d.v:6.d:5.o(\'l-v\'),a=(6.a!==p)?6.a:5.o(\'a\'),c=(6.c!==p)?6.c:5.o(\'c\'),j,d;5.1q(\'c\',c);5.1q(\'a\',a);j=5.19("18");d=1k 1j();d.v=I;j.1w(d,0,0,c,a)}C 1L(6){"N M";B 5=(L 6.5!==\'K\')?6.5:H.G(6.5),I=(6.d!==p)?(L 6.d!==\'K\')?6.d.v:6.d:5.o(\'l-v\'),a=(6.a!==p)?6.a:5.o(\'a\'),c=(6.c!==p)?6.c:5.o(\'c\'),j=5.19("18"),E=H.G(\'1p\'),1v=E.19("18"),1n,1m,e=0,z=0,d,x,y,1c=1v.1u(0,0,E.o(\'c\'),E.o(\'a\')),f=j.1t(c,a);1s({\'5\':\'1K\'});C 1o(F,Q){B 17,i,1d=[];Q=(Q===p)?F.P:(Q>F.P)?F.P:Q;u(i=0;i<Q;i+=1){17=F.1l(1J.1I.1H(1G,F));n(F[17]<D){F[17]=D;1d[1d.P]=17}}16 1d}1n=1o(J[1],E.o(\'a\')-a);1m=1o(J[0],E.o(\'c\')-c);5.c=c;5.a=a;u(y=0;y<E.o(\'a\');y+=1){u(x=0;x<E.o(\'c\');x+=1){n((1n.1l(y)===-1)&&(1m.1l(x)===-1)){f.l[e]=1c.l[z];f.l[e+=1]=1c.l[z+=1];f.l[e+=1]=1c.l[z+=1];f.l[e+=1]=D;z+=1;z+=1;e+=1}1b{z+=1;z+=1;z+=1;z+=1}}}d=1k 1j();d.v=I;j.1F(f,0,0,0,0,c,a)}',62,118,'|||||canvas|options|newData||inputData|height||width|img|pixel|outputData||||cxt|centerRow|data|input|if|getAttribute|undefined|minData||nextRow|priorRow|for|src||||opixel|maxData|var|function|255|ocanvas|linesArray|getElementById|document|imgsrc|edgeDetectLines|string|typeof|strict|use|output|length|max|b2|g2|r2|bn|bc|bp|gn|gc|gp|||rn|rc|rp|bytesPerRow|return|highest|2d|getContext|factor|else|original|higharray|false|b1|g1|r1|baseColor|Image|new|indexOf|ignoreCols|ignoreRows|boringLines|originalCanvas|setAttribute|edgeDetection|edgeDetect|createImageData|getImageData|ocxt|drawImage|doColorBookH|doColorBookW|parseInt|240|grey|wm1|hm1|context|putImageData|window|apply|min|Math|Canvas|imgSmartResize|imgResize|stringify|JSON|innerHTML|json|59|onload|loadImage'.split('|')));
